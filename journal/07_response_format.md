# Technical Spec: Response Format

## 1. Overview

ะคะพัะผะฐั ะพัะฒะตัะฐ ะฑะพัะฐ ะฟัะธ ะบะพะฝะฒะตััะฐัะธะธ ะฒัะตะผะตะฝะธ.

---

## 2. Basic Format

**Default (ะฑะตะท ะธะผัะฝ ัะทะตัะพะฒ):**
```
14:00 Berlin ๐ฉ๐ช | 08:00 New York ๐บ๐ธ | 22:00 Tokyo ๐ฏ๐ต
/tb_help
```

**ะก ะธะผะตะฝะฐะผะธ ัะทะตัะพะฒ (ะพะฟัะธะพะฝะฐะปัะฝะพ):**
```
14:00 Berlin ๐ฉ๐ช @john | 08:00 New York ๐บ๐ธ @alice, @bob | 22:00 Tokyo ๐ฏ๐ต @yuki
/tb_help
```


---

## 3. Configuration

```yaml
bot:
  show_usernames: false  # default: ะฒัะบะปััะตะฝะพ
```

---

## 4. Grouping Rules

- ะัะปะธ ะฝะตัะบะพะปัะบะพ ัะทะตัะพะฒ ะฒ ะพะดะฝะพะน ะปะพะบะฐัะธะธ โ **ะพะดะฝะฐ ะทะฐะฟะธัั**, ะธะผะตะฝะฐ ัะตัะตะท ะทะฐะฟัััั
- ะะตะท ะดัะฑะปะตะน timezone/ะณะพัะพะดะฐ
- ะกะพััะธัะพะฒะบะฐ: ะฟะพ UTC offset (ะพั ะผะตะฝััะตะณะพ ะบ ะฑะพะปััะตะผั)

**ะัะธะผะตั ะณััะฟะฟะธัะพะฒะบะธ:**
```
# 2 ัะทะตัะฐ ะฒ New York โ ะพะดะฝะฐ ะทะฐะฟะธัั
08:00 New York ๐บ๐ธ @alice, @bob
```

---

## 5. Day Transition

ะัะปะธ ะฒัะตะผั ะฟะตัะตัะพะดะธั ะฝะฐ ะดััะณะพะน ะดะตะฝั:

```
14:00 Berlin ๐ฉ๐ช | 08:00 New York ๐บ๐ธ | 22:00โบยน Tokyo ๐ฏ๐ต
```

| Marker | Meaning |
|--------|---------|
| `โบยน` | ะกะปะตะดัััะธะน ะดะตะฝั |
| `โปยน` | ะัะตะดัะดััะธะน ะดะตะฝั |

---

## 6. Multiple Times

ะัะปะธ ะฒ ัะพะพะฑัะตะฝะธะธ ะฝะตัะบะพะปัะบะพ ะฒัะตะผัะฝ โ ะพัะดะตะปัะฝัะต ะฑะปะพะบะธ:

```
18:00 Berlin ๐ฉ๐ช | 12:00 New York ๐บ๐ธ | 02:00โบยน Tokyo ๐ฏ๐ต

19:30 Berlin ๐ฉ๐ช | 13:30 New York ๐บ๐ธ | 03:30โบยน Tokyo ๐ฏ๐ต
```

---

## 7. Display Limit

ะะท `configuration.yaml`:
```yaml
bot:
  display_limit_per_chat: 10
```

ะัะปะธ ัะทะตัะพะฒ ะฑะพะปััะต ะปะธะผะธัะฐ:
```
14:00 Berlin ๐ฉ๐ช | 08:00 New York ๐บ๐ธ | ... +5 more
```

---

## 8. Empty State

ะัะปะธ ะฒ ัะฐัะต ัะพะปัะบะพ ะพัะฟัะฐะฒะธัะตะปั:
```
14:00 Berlin ๐ฉ๐ช
```

---

## 9. Country Flags

ะคะปะฐะณะธ ะพะฟัะตะดะตะปััััั ะฟะพ ัััะฐะฝะต ะธะท geocoding ัะตะทัะปััะฐัะฐ.
ะะฐะฟะฟะธะฝะณ country code โ emoji flag.

